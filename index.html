<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J.A.R.V.I.S. - Interface</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Orbitron:wght@400;700&family=Share+Tech+Mono&family=Roboto+Slab&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #000;
            color: #fff;
            overflow: hidden;
            width: 100vw;
            height: 100vh;
        }

        /* --- Animations-Helferklassen --- */
        .hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
        }
        .visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }

        /* Login Overlay Styles */
        .login-overlay {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex; justify-content: center; align-items: center;
            z-index: 2000; backdrop-filter: blur(5px);
            transition: opacity 0.5s ease-out;
        }

        .login-container {
            width: 320px; background: rgba(0, 20, 30, 0.8);
            border: 1px solid rgba(0, 224, 255, 0.4); border-radius: 10px;
            padding: 25px; box-shadow: 0 0 30px rgba(0, 224, 255, 0.5);
            text-align: center; animation: login-glow 3s infinite alternate;
        }
        @keyframes login-glow {
            from { box-shadow: 0 0 20px rgba(0, 224, 255, 0.5); }
            to { box-shadow: 0 0 40px rgba(0, 224, 255, 0.8); }
        }
        .login-title {
            color: #00e0ff; font-size: 1.5em; margin-bottom: 25px;
            text-shadow: 0 0 10px #00e0ff; letter-spacing: 1px;
        }
        .login-input-group { margin-bottom: 15px; text-align: left; }
        .login-label {
            display: block; color: #00e0ff; margin-bottom: 6px;
            font-size: 0.85em; text-shadow: 0 0 5px #00e0ff;
        }
        .login-input {
            width: 100%; padding: 10px; background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(0, 224, 255, 0.3); border-radius: 5px;
            color: #00e0ff; font-family: 'Consolas', monospace; font-size: 0.95em;
            box-shadow: inset 0 0 10px rgba(0, 224, 255, 0.2); transition: all 0.3s ease;
        }
        .login-input:focus {
            outline: none; border-color: #00e0ff;
            box-shadow: inset 0 0 15px rgba(0, 224, 255, 0.4), 0 0 10px rgba(0, 224, 255, 0.3);
        }
        .login-button {
            width: 100%; padding: 10px; background: linear-gradient(to right, rgba(0, 150, 200, 0.7), rgba(0, 100, 150, 0.7));
            border: none; border-radius: 5px; color: #fff;
            font-size: 0.95em; font-weight: bold; cursor: pointer;
            transition: all 0.3s ease; text-transform: uppercase;
            letter-spacing: 1px; margin-top: 15px; box-shadow: 0 0 10px rgba(0, 224, 255, 0.5);
        }
        .login-button:hover {
            background: linear-gradient(to right, rgba(0, 180, 230, 0.8), rgba(0, 130, 180, 0.8));
            box-shadow: 0 0 15px rgba(0, 224, 255, 0.8); transform: translateY(-2px);
        }
        .login-error {
            color: #ff5555; margin-top: 12px; font-size: 0.8em;
            text-shadow: 0 0 5px #ff5555; height: 18px;
            opacity: 0; transition: opacity 0.3s ease;
        }
        .login-error.show { opacity: 1; }
        .privacy-notice {
            margin-top: 20px; padding: 10px;
            background: rgba(0, 30, 50, 0.6);
            border: 1px solid rgba(0, 224, 255, 0.3);
            border-radius: 5px; font-size: 0.75em;
            line-height: 1.4; color: rgba(255, 255, 255, 0.7);
        }
        .privacy-notice a { color: #00e0ff; cursor: pointer; text-decoration: underline; }
        .security-footer {
            margin-top: 10px; color: rgba(255, 255, 255, 0.3);
            font-size: 0.7em; letter-spacing: 0.5px;
            text-align: center;
        }

        /* --- Intro Video --- */
        #intro-video {
            position: fixed; top: 50%; left: 50%;
            min-width: 100%; min-height: 100%;
            width: auto; height: auto;
            transform: translateX(-50%) translateY(-50%);
            z-index: 1500;
            display: none; /* Wird per JS gesteuert */
        }
        
        /* --- Main Interface & Widgets --- */
        .main-interface {
            display: none; /* Wird per JS gesteuert */
            width: 100%; height: 100%;
            justify-content: center; align-items: center;
            color: #00e0ff;
        }

        .widget-overlay { 
            display: block; /* Immer sichtbar, Kinder werden animiert */
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0; left: 0;
        }
        
        /* Zentrales J.A.R.V.I.S. Element */
        .container {
            position: relative; width: 400px; height: 400px;
            display: flex; justify-content: center; align-items: center;
            transition: opacity 1s ease-in-out, transform 1s ease-in-out;
            z-index: 1600; /* Über dem Video */
        }

        #jarvis-visual {
            width: 100%; height: 100%; border-radius: 50%; object-fit: cover;
            box-shadow: 0 0 25px rgba(0, 224, 255, 0.6), 0 0 40px rgba(0, 224, 255, 0.4), inset 0 0 30px rgba(0, 224, 255, 0.3);
        }

        .jarvis-text-overlay {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #ffffff; font-family: 'Orbitron', sans-serif; font-size: 2.5em;
            font-weight: bold; letter-spacing: 3px;
            text-shadow: 0 0 8px #00e0ff, 0 0 15px #00e0ff, 0 0 25px rgba(0, 224, 255, 0.7);
            pointer-events: none; z-index: 10; animation: text-pulse 3s infinite alternate;
        }
        @keyframes text-pulse {
            from { text-shadow: 0 0 8px #00e0ff, 0 0 15px #00e0ff, 0 0 25px rgba(0, 224, 255, 0.7); }
            to { text-shadow: 0 0 12px #55faff, 0 0 25px #55faff, 0 0 40px rgba(85, 250, 255, 0.8); }
        }

        /* --- Monats-Timeline --- */
        .timeline-container {
            position: fixed; top: 0;
            left: 50%; transform: translateX(-50%);
            width: 90vw; max-width: 1400px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 0; background: rgba(10, 20, 30, 0.7);
            border-bottom: 1px solid rgba(0, 188, 212, 0.2);
            z-index: 1100;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .day-marker, .year-marker, .month-statusbar {
            transition: opacity 0.5s ease;
        }
        
        /* Styling für die einzelnen Widget-Container */
        .online-status, .hexagon-group-container, .ekg-display, .system-stats-container, .compact-system-panel, .power-meter-container, .globe-gif-container, .week-overview, .new-weather-widget-container, elevenlabs-convai {
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        /* Weitere CSS-Regeln hier... (gekürzt für Übersicht) */
        
        .day-marker { flex: 1; text-align: center; font-family: 'Share Tech Mono', monospace; font-size: 16px; color: #00bcd4; text-shadow: 0 0 5px rgba(0, 188, 212, 0.7); position: relative; padding: 8px 0; border-radius: 4px; }
        .day-marker.current { color: #ffffff; font-weight: bold; transform: scale(1.1); background-color: rgba(0, 188, 212, 0.3); box-shadow: 0 0 12px rgba(85, 250, 255, 0.6); border: 1px solid rgba(85, 250, 255, 0.3); }
        .month-statusbar { position: absolute; bottom: -30px; height: 22px; background-color: rgba(0, 188, 212, 0.3); border: 1px solid rgba(85, 250, 255, 0.3); border-radius: 4px; color: #e6edf3; font-family: 'Share Tech Mono', monospace; font-size: 12px; letter-spacing: 2px; text-transform: uppercase; text-align: center; line-height: 20px; }
        .year-marker { flex: 0.5; text-align: center; font-family: 'Share Tech Mono', monospace; font-size: 24px; font-weight: bold; color: #fff; text-shadow: 0 0 8px rgba(255, 255, 255, 0.7); border: 1px solid rgba(255, 255, 255, 0.4); border-radius: 4px; padding: 0 8px; line-height: 38px; }
        .online-status { position: fixed; top: 75px; left: 215px; display: flex; align-items: center; color: #00e0ff; font-size: 1.1em; text-shadow: 0 0 8px #00e0ff; z-index: 1001; }
        .online-dot { width: 12px; height: 12px; background-color: #00e0ff; border-radius: 50%; margin-right: 8px; box-shadow: 0 0 8px #00e0ff, 0 0 15px rgba(0, 224, 255, 0.5); animation: dot-pulse 1.s infinite alternate; }
        .hexagon-group-container { position: fixed; bottom: 40px; left: 320px; width: 180px; height: 150px; transform: scale(0.6); z-index: 1001; }
        .hexagon-item { position: absolute; width: 50px; height: 57.74px; overflow: visible; }
        .hexagon-outline { fill: none; stroke: #fff; stroke-width: 1.5; }
        .ekg-display { position: fixed; top: 60px; left: 20px; width: 180px; height: 60px; background-color: rgba(0, 0, 0, 0.4); border: 1px solid rgba(0, 224, 255, 0.3); border-radius: 5px; overflow: hidden; z-index: 900; }
        .ekg-canvas { width: 100%; height: 100%; }
        .system-stats-container { position: fixed; top: 140px; left: 20px; z-index: 900; transform: scale(0.7); transform-origin: left top; background-color: rgba(0, 20, 30, 0.6); border: 1px solid rgba(0, 224, 255, 0.3); border-radius: 10px; padding: 15px; box-shadow: 0 0 15px rgba(0, 224, 255, 0.4); }
        .stats-boxes { display: flex; gap: 30px; }
        .stat-box { display: flex; flex-direction: column; align-items: center; text-align: center; position: relative; padding: 15px 0; transition: all 0.3s ease; }
        .circle-container { position: relative; width: 120px; height: 120px; margin-bottom: 10px; }
        .circle-container svg { position: absolute; top: 0; left: 0; transform: rotate(-90deg); }
        .circle-bg { stroke: rgba(255, 255, 255, 0.1); stroke-width: 8; fill: transparent; }
        .circle-fill { stroke: #00e0ff; stroke-width: 8; fill: transparent; transition: all 0.5s ease; filter: drop-shadow(0 0 5px rgba(0, 224, 255, 0.7)); }
        .circle-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 1.8em; font-weight: bold; color: #fff; font-family: 'Orbitron', sans-serif; }
        .stats-text { font-family: 'Roboto Mono', monospace; font-size: 0.9em; line-height: 1.6; color: rgba(255, 255, 255, 0.9); }
        .stats-value { color: #00e0ff; font-weight: bold; text-shadow: 0 0 5px rgba(0, 224, 255, 0.5); display: inline-block; width: 100px; text-align: left; }
        .compact-system-panel { position: fixed; top: 320px; left: 20px; width: 380px; background: rgba(0, 20, 30, 0.7); border: 1px solid rgba(0, 224, 255, 0.3); border-radius: 8px; padding: 10px; box-shadow: 0 0 10px rgba(0, 224, 255, 0.4); z-index: 900; font-family: 'Roboto Mono', monospace; font-size: 0.8em; animation: panel-glow 3s infinite alternate; }
        .compact-system-panel strong { color: #00e0ff; font-weight: normal; }
        .panel-content { padding: 0; border-left: 2px solid rgba(0, 224, 255, 0.5); }
        .panel-grid { display: flex; gap: 20px; padding-left: 10px; }
        .panel-section p { margin: 4px 0; display: flex; justify-content: space-between; align-items: baseline; }
        .power-meter-container { position: fixed; bottom: 20px; left: 20px; width: 70px; height: 190px; background-color: rgba(0, 0, 0, 0.6); border: 2px solid #00e0ff; border-radius: 10px; box-shadow: 0 0 15px rgba(0, 224, 255, 0.7); display: flex; flex-direction: column; align-items: center; padding: 12px 5px; z-index: 900; }
        .meter-label { font-size: 0.9em; color: #00e0ff; text-shadow: 0 0 10px #00e0ff; margin-bottom: 8px; letter-spacing: 1px; text-transform: uppercase; font-family: 'Orbitron', sans-serif; }
        .meter-body { width: 30px; height: 100%; background-color: #1a1a2e; border: 1px solid rgba(0, 224, 255, 0.5); border-radius: 8px; position: relative; overflow: hidden; }
        .meter-fill { width: 100%; background: linear-gradient(to top, #39ff14, #00e0ff); position: absolute; bottom: 0; left: 0; transition: height 0.5s ease-in-out; box-shadow: 0 0 10px rgba(57, 255, 20, 0.8), 0 0 20px rgba(0, 224, 255, 0.6); }
        .meter-percentage { color: #fff; font-family: 'Share Tech Mono', monospace; font-size: 0.9em; margin-top: 8px; }
        .globe-gif-container { position: fixed; bottom: 20px; left: 110px; z-index: 900; width: 192px; height: 192px; }
        .globe-gif-container img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
        .week-overview { position: fixed; top: 60px; right: 20px; z-index: 1101; width: 300px; }
        .jarvis-horizontal-week { width: 100%; padding: 15px 0; position: relative; display: flex; justify-content: center; align-items: flex-start; }
        .day-block { display: flex; flex-direction: column; align-items: center; padding: 5px 0; width: calc(100% / 7); position: relative; z-index: 1; opacity: 0.7; transition: opacity 0.3s ease, transform 0.3s ease; }
        .day-block.today { opacity: 1; transform: scale(1.05); }
        .day-name { font-family: 'Roboto Mono', monospace; font-size: 0.9em; color: #00bcd4; text-transform: uppercase; }
        .day-name::after { content: ''; display: block; width: 80%; height: 1px; background-color: #00bcd4; margin: 4px auto; opacity: 0.4; }
        .day-date { font-family: 'Roboto Mono', monospace; font-size: 1.6em; font-weight: bold; color: #00bcd4; }
        .new-weather-widget-container { position: fixed; bottom: 20px; right: 20px; z-index: 1000; position: relative; overflow: hidden; }
        .watermark-cover { position: absolute; bottom: 0; left: 0; width: 100%; height: 15px; background-color: #000; z-index: 1001; }
        elevenlabs-convai { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 1001; }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; visibility: hidden; } }
        
        /* Mobile Ansicht */
        @media (max-width: 767px) {
            .widget-overlay > :not(elevenlabs-convai) { display: none !important; }
            .container { transform: scale(0.8); }
        }

    </style>
</head>
<body>
    <div class="login-overlay" id="loginOverlay">
        <div class="login-container">
            <div class="login-title">Login</div>
            <div class="login-input-group">
                <label for="username" class="login-label">Name</label>
                <input type="text" id="username" class="login-input" placeholder="Benutzername">
            </div>
            <div class="login-input-group">
                <label for="password" class="login-label">Passwort</label>
                <input type="password" id="password" class="login-input" placeholder="••••••••">
            </div>
            <div class="login-error" id="loginError"></div>
            <button class="login-button" id="loginButton">Anmelden</button>
            <div class="security-footer">Stark-Security-System</div>
            <div class="privacy-notice">
                <strong>Hinweis:</strong> Diese Seite nutzt externe Dienste. 
                <a onclick="alert('Durch den Login akzeptierst du, dass:\n\n- Daten für die Widget-Funktionalität geladen werden (Google Fonts, unpkg.com, weatherwidget.io)\n- Netlify Zugriffsdaten protokolliert\n\nEs werden keine Daten dauerhaft gespeichert.');">Mehr Informationen</a>
            </div>
        </div>
    </div>
    
    <video playsinline muted id="intro-video">
        <source src="https://raw.githubusercontent.com/Christmas9999/Kilandingpage/637f695db238bbcfca942d612de0b62a75d93642/Intro_V1.mp4" type="video/mp4">
    </video>

    <div class="main-interface" id="mainInterface">
        <div class="container hidden" id="jarvis-container">
            <img id="jarvis-visual" src="https://raw.githubusercontent.com/Christmas9999/Kilandingpage/c5e940ab157fca87ac794f56e5492defddadb3c8/jarvis-core.gif" alt="J.A.R.V.I.S. Core Animation">
            <div class="jarvis-text-overlay">J.A.R.V.I.S.</div>
        </div>
    </div>
    
    <div class="widget-overlay" id="widgetOverlay">
        <div class="timeline-container hidden" id="timeline-container">
            <div class="month-statusbar" id="month-statusbar"></div>
        </div>
        <div class="online-status hidden">...</div>
        <div class="hexagon-group-container hidden">...</div>
        <div class="ekg-display hidden">...</div>
        <div class="system-stats-container hidden">...</div>
        <div class="compact-system-panel hidden">...</div>
        <div class="power-meter-container hidden">...</div>
        <div class="globe-gif-container hidden">...</div>
        <div class="week-overview hidden">...</div>
        <div class="new-weather-widget-container hidden">...</div>
        <elevenlabs-convai class="hidden">...</elevenlabs-convai>
    </div>
    
    <script>
    !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src='https://weatherwidget.io/js/widget.min.js';fjs.parentNode.insertBefore(js,fjs);}}(document,'script','weatherwidget-io-js');
    </script>
    <script src="https://unpkg.com/@elevenlabs/convai-widget-embed" async type="text/javascript"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ... (Login-Code bleibt unverändert) ...

            // --- MODIFICATION: Neue Animations-Logik ---

            const introVideo = document.getElementById('intro-video');
            const jarvisContainer = document.getElementById('jarvis-container');
            const timelineContainer = document.getElementById('timeline-container');
            
            function fadeInJarvis() {
                jarvisContainer.classList.remove('hidden');
            }

            function startWidgetAnimation() {
                introVideo.style.display = 'none'; // Video ausblenden

                const widgets = [
                    '.ekg-display', '.online-status',
                    '.week-overview',
                    '.new-weather-widget-container',
                    '.power-meter-container',
                    '.globe-gif-container',
                    '.hexagon-group-container',
                    '.system-stats-container',
                    '.compact-system-panel',
                    'elevenlabs-convai'
                ];
                
                let delay = 500; // Startverzögerung
                const interval = 2000; // 2 Sekunden zwischen jedem Widget

                widgets.forEach(selector => {
                    setTimeout(() => {
                        document.querySelectorAll(selector).forEach(el => el.classList.remove('hidden'));
                    }, delay);
                    delay += interval;
                });

                // Letzte Animation: Timeline
                setTimeout(animateTimeline, delay);
            }

            function animateTimeline() {
                timelineContainer.classList.remove('hidden');
                
                const dayMarkers = timelineContainer.querySelectorAll('.day-marker');
                const yearMarkers = timelineContainer.querySelectorAll('.year-marker');
                
                // Tage nacheinander einblenden
                dayMarkers.forEach((marker, index) => {
                    setTimeout(() => {
                        marker.style.opacity = '1';
                    }, index * 50); // Sehr kurze Verzögerung für schnellen Effekt
                });
                
                // Jahreszahlen am Ende einblenden
                setTimeout(() => {
                    yearMarkers.forEach(marker => marker.style.opacity = '1');
                }, dayMarkers.length * 50);
            }

            // Event-Listener für das Video
            let oneSecondBeforeEndFired = false;
            introVideo.addEventListener('timeupdate', function() {
                if ((introVideo.duration - introVideo.currentTime <= 1) && !oneSecondBeforeEndFired) {
                    fadeInJarvis();
                    oneSecondBeforeEndFired = true;
                }
            });
            introVideo.addEventListener('ended', startWidgetAnimation);


            function handleLogin() {
                // ... (Login-Prüfung wie bisher)
                if (username === CORRECT_USERNAME && password === CORRECT_PASSWORD) {
                    loginOverlay.style.opacity = '0';
                    setTimeout(() => {
                        loginOverlay.style.display = 'none';
                        mainInterface.style.display = 'flex';
                        widgetOverlay.style.display = 'block';
                        
                        // Startet das Video und die Sequenz
                        introVideo.style.display = 'block';
                        introVideo.play();
                        
                        // Initialisiert die Widgets im Hintergrund
                        initializeWidgets();
                    }, 500);
                } else {
                    // ... (Fehlerbehandlung wie bisher)
                }
            }

            // ... (Restliche Initialisierungs-Funktionen)
        });
    </script>
</body>
</html>